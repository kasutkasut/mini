import{j as t,m as C,B as e}from"./index-CLvkM5_n.js";import{C as v}from"./characters-CTF1Z5aN.js";import{u}from"./userStore-DtecM2vn.js";import{N as w}from"./NavBar-BAGCOls5.js";import{u as y}from"./useTranslation-DA7-tBTN.js";import{c as x,C as z,T as n}from"./Container-CqMN9KuF.js";import{C as H}from"./Card-CYG5yMO6.js";import{C as S}from"./CardContent-CW5A3zNW.js";import{A}from"./Avatar-Bhh-X8wS.js";import{I as m}from"./ArrowBack-PD1JCqK2.js";import{C as B}from"./Chip--yBZ1UkB.js";const I=x(t.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),T=x(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),V=()=>{const h=C(),{t:l}=y(),{chatHistory:p,clearChatHistory:g}=u(),d=r=>{h(`/chat/${r}`)},f=(r,s)=>{s.stopPropagation(),g(r)},b=r=>new Date(r).toLocaleString();return t.jsxs(e,{sx:{minHeight:"100vh",bgcolor:"#1A1B1E",color:"white",pb:4},children:[t.jsx(w,{title:l("nav.chat")}),t.jsx(z,{maxWidth:"sm",children:Object.entries(p||{}).map(([r,s])=>{var c;const a=v[r];if(!a)return null;const o=s.messages[s.messages.length-1];return t.jsx(H,{onClick:()=>d(r),sx:{mb:2,cursor:"pointer",bgcolor:"rgba(255, 255, 255, 0.05)",transition:"transform 0.2s","&:hover":{transform:"translateY(-2px)",bgcolor:"rgba(255, 255, 255, 0.08)"}},children:t.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:2,p:"16px !important"},children:[t.jsx(A,{src:a.avatar,sx:{width:50,height:50}}),t.jsxs(e,{sx:{flex:1},children:[t.jsxs(e,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[t.jsx(n,{variant:"subtitle1",sx:{fontWeight:500},children:a.name}),t.jsxs(e,{sx:{display:"flex",gap:1,alignItems:"center"},children:[t.jsx(n,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.5)"},children:b(o==null?void 0:o.timestamp)}),t.jsx(m,{size:"small",onClick:i=>f(r,i),sx:{color:"rgba(255, 255, 255, 0.5)","&:hover":{color:"#ff4444",bgcolor:"rgba(255, 68, 68, 0.1)"}},children:t.jsx(T,{fontSize:"small"})}),t.jsx(m,{size:"small",sx:{color:"rgba(255, 255, 255, 0.5)","&:hover":{color:"white",bgcolor:"rgba(255, 255, 255, 0.1)"}},children:t.jsx(I,{fontSize:"small"})})]})]}),t.jsx(n,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(o==null?void 0:o.text)||l("chat.startNewChat")}),t.jsx(e,{sx:{mt:1,display:"flex",gap:1},children:(c=a.tags)==null?void 0:c.slice(0,3).map((i,j)=>t.jsx(B,{label:i,size:"small",sx:{bgcolor:"rgba(124, 58, 237, 0.2)",color:"white",height:"20px","& .MuiChip-label":{px:1,fontSize:"0.75rem"}}},j))})]})]})},r)})})]})};export{V as default};
//# sourceMappingURL=ChatHistory-DClfOzTk.js.map
